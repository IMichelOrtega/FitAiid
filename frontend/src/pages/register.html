<!--register.html con Firebase:-->
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro de Usuario - FitAiid</title>
    <!-- Fuente Oswald -->
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <link rel="stylesheet" href="../styles/register.css" />
  </head>

  <body>
    <div class="register-container">
      <!-- üîπ Bot√≥n cerrar (sin script, solo HTML) -->
      <a href="index.html" class="close-btn" aria-label="Cerrar">√ó</a>

      <h2>REG√çSTRATE</h2>

      <!-- Mensaje -->
      <div id="msgBox" class="msg-box"></div>

      <form id="registerForm">
        <input
          type="text"
          id="firstName"
          placeholder="Nombre"
          required
          pattern="[A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√±√ë\s]{2,50}"
          title="El nombre debe tener solo letras"
        />

        <input
          type="text"
          id="lastName"
          placeholder="Apellido"
          required
          pattern="[A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√±√ë\s]{2,50}"
          title="El apellido debe tener solo letras"
        />

        <input
          type="number"
          id="phone"
          placeholder="N√∫mero de tel√©fono"
          required
          pattern="^\d{10}$"
          title="El n√∫mero debe tener exactamente 10 d√≠gitos"
        />

        <input
          type="email"
          id="email"
          placeholder="Correo electr√≥nico"
          required
          title="Ingresa un correo v√°lido, como ejemplo@correo.com"
        />
        <!-- Campo de contrase√±a con bot√≥n para mostrar/ocultar -->
        <div class="password-container">
          <input
            type="password"
            id="password"
            placeholder="Contrase√±a"
            required
          />
          <i id="togglePassword" class="fa-solid fa-eye eye-icon"></i>
        </div>
        <!-- Confirmar contrase√±a (siempre oculta) -->
        <div class="password-container">
          <input
            type="password"
            id="confirmPassword"
            placeholder="Confirmar contrase√±a"
            required
          />
          <i id="toggleConfirmPassword" class="fa-solid fa-eye eye-icon"></i>
        </div>

        <div id="password-strength" class="strength-bar">
          <div id="strength-fill"></div>
        </div>
        <p id="strength-text"></p>
        <ul id="password-rules">
          <li id="rule-length">M√≠nimo 6 caracteres</li>
          <li id="rule-uppercase">Una letra may√∫scula (A-Z)</li>
          <li id="rule-uppercase">Una letra min√∫scula (a-z)</li>
          <li id="rule-number">Un n√∫mero (0-9)</li>
          <li id="rule-symbol">Un s√≠mbolo (!@#$%&*.)</li>
        </ul>
        <p>
          ¬øYa Tienes Cuenta? -
          <a href="login.html" class="login-link">Inicia Sesi√≥n</a>
        </p>
        <button type="submit">Continuar</button>

        <div class="social-login">
          <p>O reg√≠strate con</p>
          <div class="icons">
            <img
              src="https://png.pngtree.com/png-vector/20230817/ourmid/pngtree-google-internet-icon-vector-png-image_9183287.png"
              alt="Google"
            />
            <img
              src="https://static.xx.fbcdn.net/rsrc.php/v4/yG/r/pENh3y_2Pnw.png"
              alt="Facebook"
            />
            <img
              id="Apple"
              src="https://img.icons8.com/ios_filled/512/FFFFFF/mac-os.png"
              alt="Apple"
            />
          </div>
        </div>
      </form>
    </div>

    <!-- üîπ Script para mostrar/ocultar contrase√±a -->
    <script>
      const passwordInput = document.getElementById("password");
      const confirmPasswordInput = document.getElementById("confirmPassword");
      const togglePassword = document.getElementById("togglePassword");
      const toggleConfirmPassword = document.getElementById(
        "toggleConfirmPassword"
      );

      togglePassword.addEventListener("click", () => {
        const isPassword = passwordInput.type === "password";
        passwordInput.type = isPassword ? "text" : "password";
        togglePassword.classList.toggle("fa-eye");
        togglePassword.classList.toggle("fa-eye-slash");
      });

      toggleConfirmPassword.addEventListener("click", () => {
        const isPassword = confirmPasswordInput.type === "password";
        confirmPasswordInput.type = isPassword ? "text" : "password";
        toggleConfirmPassword.classList.toggle("fa-eye");
        toggleConfirmPassword.classList.toggle("fa-eye-slash");
      });
    </script>
<!-- ‚úÖ Firebase Configuration -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import {
    getAuth,
    signInWithPopup,
    GoogleAuthProvider,
    FacebookAuthProvider,
  } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBzpmKxgVzx6qHgEAsz82xSHM8ANjF8HTI",
    authDomain: "fitaiid-9c617.firebaseapp.com",
    projectId: "fitaiid-9c617",
    storageBucket: "fitaiid-9c617.firebasestorage.app",
    messagingSenderId: "698827830015",
    appId: "1:698827830015:web:ad141d6f1b8803edadd2ca",
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ‚úÖ EXPORTAR GLOBALMENTE para que register.js pueda usarlos
  window.firebaseAuth = auth;
  window.GoogleAuthProvider = GoogleAuthProvider;
  window.FacebookAuthProvider = FacebookAuthProvider;
  window.signInWithPopup = signInWithPopup;
  
  console.log("‚úÖ Firebase inicializado y exportado globalmente");
  console.log("‚úÖ Auth disponible:", !!window.firebaseAuth);
  console.log("‚úÖ GoogleAuthProvider disponible:", !!window.GoogleAuthProvider);

  // ‚ùå ELIMINAMOS los listeners de Google y Facebook de aqu√≠
  // Ahora se manejan desde register.js
</script>

<!-- ‚úÖ Toast Message -->
<div id="toastMsg" style="position: fixed; bottom: 30px; right: 30px; background: #333; color: white; padding: 15px 25px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 9999; display: none; opacity: 0; transition: opacity 0.3s;"></div>

<script type="module" src="../scripts/register.js"></script>

    <script type="module" src="../scripts/register.js"></script>
  </body>
</html>
